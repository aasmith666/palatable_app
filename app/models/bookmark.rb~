class Bookmark < ActiveRecord::Base
	
	attr_accessible :url, :name
	
	#Add relationship
	#belongs_to :user
	#has_many :user_bookmarks, :foreign_key => "user_id" #Correct???
	has_many :user_bookmarks, :foreign_key => "bookmark_id" #Correct???
	has_many :users, :through => :user_bookmarks, :source => "user_id"
	
	#Add Validation
	validates 	:url, 	:presence 	=> true,
				:uniqueness	=> { :case_sensitive => false },
				:length   	=> { :minimum => 10 }
	#validates_length_of :url, :minimum => 10
	validates_presence_of :name #, :length => { :maximum => 100 }
	validates_length_of :name, :maximum => 100
	
	default_scope :order => 'bookmarks.created_at DESC'

end


# == Schema Information
#
# Table name: bookmarks
#
#  id         :integer         not null, primary key
#  url        :string(255)
#  name       :string(255)
#  created_at :datetime
#  updated_at :datetime
#  user_id    :integer
#

#has_many  :bookmarks_tags
#has_many :tags, :through => :bookmarks_tags